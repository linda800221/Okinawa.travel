<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ²–ç¹©å®¶åº­æ—…éŠ 2026</title>
    <style>
        body {
            margin: 0;
            font-family: sans-serif;
            background: #f5f7fa;
            color: #333;
        }
        header img {
            width: 100%;
            display: block;
            border-bottom: 3px solid #ddd;
        }
        .container {
            max-width: 900px;
            margin: auto;
            padding: 0 20px 40px;
        }
        nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        nav button {
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 6px;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 16px;
        }
        nav button.active {
            background: #0078d7;
            color: #fff;
            border-color: #0078d7;
        }

        h1 {
            text-align: center;
            margin-top: 10px;
            line-height: 1.4;
        }

        /* è¡Œç¨‹å€åŸŸ */
        .day-block {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
        }
        .day-header {
            display: flex;
            justify-content: space-between;
            cursor: pointer;
            font-weight: bold;
        }
        .day-content {
            margin-top: 10px;
            display: none;
        }
        .item {
            background: #f1f3f5;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        .item input, .item textarea {
            width: 100%;
            padding: 6px;
        }
        .add-btn {
            margin-top: 10px;
            padding: 8px 14px;
            background: #0078d7;
            color: white;
            border-radius: 6px;
            border: none;
            cursor: pointer;
        }
        .save-btn {
            padding: 6px 12px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        .delete-btn {
            padding: 4px 8px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        /* åŒ¯ç‡ */
        .rate-box {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #ddd;
            text-align: center;
        }
        .rate-box input {
            width: 80%;
            padding: 10px;
            margin: 10px 0;
            font-size: 18px;
            text-align: center;
        }
    </style>
</head>
<body>
<header>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Okinawa_Churaumi_Aquarium_gyokusendo_park.jpg/1920px-Okinawa_Churaumi_Aquarium_gyokusendo_park.jpg" alt="Okinawa" />
</header>

<div class="container">

<h1>æ²–ç¹©å®¶åº­æ—…éŠ<br>2026.4.6 ~ 2026.4.11</h1>

<nav>
    <button id="tab-trip" class="active">ğŸ—ºï¸ è¡Œç¨‹</button>
    <button id="tab-rate">ğŸ’± åŒ¯ç‡æ›ç®—</button>
</nav>

<!-- è¡Œç¨‹é é¢ -->
<div id="page-trip">
    <button class="add-btn" onclick="addDay()">ï¼‹ æ–°å¢ä¸€å¤©è¡Œç¨‹</button>
    <div id="days"></div>
</div>

<!-- åŒ¯ç‡é é¢ -->
<div id="page-rate" style="display:none;">
    <div class="rate-box">
        <h2>åŒ¯ç‡æ›ç®—</h2>
        <p>è«‹è¼¸å…¥ä»»æ„æ¬„ä½ï¼Œè‡ªå‹•æ›ç®—</p>
        <input id="twd" placeholder="è¼¸å…¥æ–°å°å¹£ TWD" oninput="convert('twd')" />
        <input id="jpy" placeholder="è¼¸å…¥æ—¥åœ“ JPY" oninput="convert('jpy')" />
        <p>åŒ¯ç‡æ¡ç”¨ï¼š1 TWD = 5 JPYï¼ˆå¯è‡ªè¡Œä¿®æ”¹ JSï¼‰</p>
    </div>
</div>

</div>

<script>
// Tabs
const tabTrip = document.getElementById('tab-trip');
const tabRate = document.getElementById('tab-rate');
const pageTrip = document.getElementById('page-trip');
const pageRate = document.getElementById('page-rate');

tabTrip.onclick = () => {
    tabTrip.classList.add('active');
    tabRate.classList.remove('active');
    pageTrip.style.display = 'block';
    pageRate.style.display = 'none';
};

tabRate.onclick = () => {
    tabRate.classList.add('active');
    tabTrip.classList.remove('active');
    pageTrip.style.display = 'none';
    pageRate.style.display = 'block';
};

// localStorage
let days = JSON.parse(localStorage.getItem('okinawaDays') || '[]');

function saveDays() {
    localStorage.setItem('okinawaDays', JSON.stringify(days));
    renderDays();
}

function addDay() {
    days.push({ title: "æœªå‘½åè¡Œç¨‹", items: [] });
    saveDays();
}

function addItem(index) {
    days[index].items.push({ time: "", place: "", text: "", map: "" });
    saveDays();
}

function renderDays() {
    const container = document.getElementById('days');
    container.innerHTML = '';

    days.forEach((day, i) => {
        const block = document.createElement('div');
        block.className = 'day-block';

        block.innerHTML = `
            <div class="day-header" onclick="toggle(${i})">
                <span contenteditable="true" onblur="updateTitle(${i}, this.innerText)">${day.title}</span>
                <span>â–¼</span>
            </div>
            <div class="day-content" id="content-${i}">
                ${day.items.map((item, k) => `
                    <div class="item">
                        <input placeholder="æ™‚é–“" value="${item.time}" oninput="editItem(${i},${k},'time',this.value)" />
                        <input placeholder="åœ°é»" value="${item.place}" oninput="editItem(${i},${k},'place',this.value)" />
                        <textarea placeholder="æè¿°" oninput="editItem(${i},${k},'text',this.value)">${item.text}</textarea>
                        <input placeholder="Google Map é€£çµ" value="${item.map}" oninput="editItem(${i},${k},'map',this.value)" />
                        <button class="delete-btn" onclick="deleteItem(${i},${k})">åˆªé™¤</button>
                    </div>
                `).join('')}
                <button class="add-btn" onclick="addItem(${i})">ï¼‹ æ–°å¢è¡Œç¨‹å…§å®¹</button>
            </div>
        `;

        container.appendChild(block);
    });
}

function toggle(i) {
    const el = document.getElementById(`content-${i}`);
    el.style.display = el.style.display === 'none' ? 'block' : 'none';
}

function updateTitle(i, text) {
    days[i].title = text;
    saveDays();
}

function editItem(i,k,key,value) {
    days[i].items[k][key] = value;
    saveDays();
}

function deleteItem(i,k) {
    days[i].items.splice(k,1);
    saveDays();
}

renderDays();

// åŒ¯ç‡æ›ç®—
const rate = 5; // 1 TWD = 5 JPY

function convert(type) {
    const twd = document.getElementById('twd');
    const jpy = document.getElementById('jpy');

    if (type === 'twd') {
        jpy.value = twd.value ? Math.round(twd.value * rate) : '';
    } else {
        twd.value = jpy.value ? (jpy.value / rate).toFixed(2) : '';
    }
}
</script>
</body>
</html>
